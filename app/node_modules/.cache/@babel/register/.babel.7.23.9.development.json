{"{\"assumptions\":{},\"sourceRoot\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/app/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/app\",\"filename\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/app/src/producer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/app\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.9:development":{"value":{"code":"\"use strict\";\n\nvar _kafkajs = require(\"kafkajs\");\nvar _promises = require(\"fs/promises\");\nvar _uuid = require(\"uuid\");\nasync function readEvent(fileName) {\n  const file = await (0, _promises.readFile)(fileName);\n  return JSON.parse(file.toString());\n}\nasync function main() {\n  //const topic = process.argv[2];\n  const fileName = process.argv[2];\n  const count = process.argv[3] || 1;\n\n  // const event = await readEvent(`events/${fileName}.json`);\n  const event = await readEvent(`../events/${fileName}.json`);\n  const kafka = new _kafkajs.Kafka({\n    clientId: \"kafka-producer\",\n    brokers: [\"localhost:9092\"]\n  });\n  const producer = kafka.producer();\n  const messages = Array.from(Array(count), () => ({\n    key: (0, _uuid.v4)(),\n    value: JSON.stringify(event.data)\n  }));\n  await producer.connect();\n  await producer.send({\n    topic: event.topic,\n    messages\n  });\n  await producer.disconnect();\n}\nmain();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfa2Fma2FqcyIsInJlcXVpcmUiLCJfcHJvbWlzZXMiLCJfdXVpZCIsInJlYWRFdmVudCIsImZpbGVOYW1lIiwiZmlsZSIsInJlYWRGaWxlIiwiSlNPTiIsInBhcnNlIiwidG9TdHJpbmciLCJtYWluIiwicHJvY2VzcyIsImFyZ3YiLCJjb3VudCIsImV2ZW50Iiwia2Fma2EiLCJLYWZrYSIsImNsaWVudElkIiwiYnJva2VycyIsInByb2R1Y2VyIiwibWVzc2FnZXMiLCJBcnJheSIsImZyb20iLCJrZXkiLCJ1dWlkIiwidmFsdWUiLCJzdHJpbmdpZnkiLCJkYXRhIiwiY29ubmVjdCIsInNlbmQiLCJ0b3BpYyIsImRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXlvcGl6YW5pdmFuamhvbmF0YW4vRG9jdW1lbnRzL0JDUC9HaXRIdWIva2Fma2EtcHJvZHVjdGVyL2FwcC9zcmMvIiwic291cmNlcyI6WyJwcm9kdWNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBLYWZrYSB9IGZyb20gXCJrYWZrYWpzXCI7XG5pbXBvcnQgeyByZWFkRmlsZSB9IGZyb20gXCJmcy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gXCJ1dWlkXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIHJlYWRFdmVudChmaWxlTmFtZSkge1xuICBjb25zdCBmaWxlID0gYXdhaXQgcmVhZEZpbGUoZmlsZU5hbWUpO1xuICByZXR1cm4gSlNPTi5wYXJzZShmaWxlLnRvU3RyaW5nKCkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBtYWluKCkge1xuICAvL2NvbnN0IHRvcGljID0gcHJvY2Vzcy5hcmd2WzJdO1xuICBjb25zdCBmaWxlTmFtZSA9IHByb2Nlc3MuYXJndlsyXTtcbiAgY29uc3QgY291bnQgPSBwcm9jZXNzLmFyZ3ZbM10gfHwgMTtcblxuICAvLyBjb25zdCBldmVudCA9IGF3YWl0IHJlYWRFdmVudChgZXZlbnRzLyR7ZmlsZU5hbWV9Lmpzb25gKTtcbiAgY29uc3QgZXZlbnQgPSBhd2FpdCByZWFkRXZlbnQoYC4uL2V2ZW50cy8ke2ZpbGVOYW1lfS5qc29uYCk7XG5cbiAgY29uc3Qga2Fma2EgPSBuZXcgS2Fma2Eoe1xuICAgIGNsaWVudElkOiBcImthZmthLXByb2R1Y2VyXCIsXG4gICAgYnJva2VyczogW1wibG9jYWxob3N0OjkwOTJcIl0sXG4gIH0pO1xuXG4gIGNvbnN0IHByb2R1Y2VyID0ga2Fma2EucHJvZHVjZXIoKTtcblxuICBjb25zdCBtZXNzYWdlcyA9IEFycmF5LmZyb20oQXJyYXkoY291bnQpLCAoKSA9PiAoe1xuICAgIGtleTogdXVpZCgpLFxuICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeShldmVudC5kYXRhKSxcbiAgfSkpO1xuXG4gIGF3YWl0IHByb2R1Y2VyLmNvbm5lY3QoKTtcbiAgYXdhaXQgcHJvZHVjZXIuc2VuZCh7XG4gICAgdG9waWM6IGV2ZW50LnRvcGljLFxuICAgIG1lc3NhZ2VzLFxuICB9KTtcblxuICBhd2FpdCBwcm9kdWNlci5kaXNjb25uZWN0KCk7XG59XG5cbm1haW4oKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFGLE9BQUE7QUFFQSxlQUFlRyxTQUFTQSxDQUFDQyxRQUFRLEVBQUU7RUFDakMsTUFBTUMsSUFBSSxHQUFHLE1BQU0sSUFBQUMsa0JBQVEsRUFBQ0YsUUFBUSxDQUFDO0VBQ3JDLE9BQU9HLElBQUksQ0FBQ0MsS0FBSyxDQUFDSCxJQUFJLENBQUNJLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDcEM7QUFFQSxlQUFlQyxJQUFJQSxDQUFBLEVBQUc7RUFDcEI7RUFDQSxNQUFNTixRQUFRLEdBQUdPLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNoQyxNQUFNQyxLQUFLLEdBQUdGLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7O0VBRWxDO0VBQ0EsTUFBTUUsS0FBSyxHQUFHLE1BQU1YLFNBQVMsQ0FBRSxhQUFZQyxRQUFTLE9BQU0sQ0FBQztFQUUzRCxNQUFNVyxLQUFLLEdBQUcsSUFBSUMsY0FBSyxDQUFDO0lBQ3RCQyxRQUFRLEVBQUUsZ0JBQWdCO0lBQzFCQyxPQUFPLEVBQUUsQ0FBQyxnQkFBZ0I7RUFDNUIsQ0FBQyxDQUFDO0VBRUYsTUFBTUMsUUFBUSxHQUFHSixLQUFLLENBQUNJLFFBQVEsQ0FBQyxDQUFDO0VBRWpDLE1BQU1DLFFBQVEsR0FBR0MsS0FBSyxDQUFDQyxJQUFJLENBQUNELEtBQUssQ0FBQ1IsS0FBSyxDQUFDLEVBQUUsT0FBTztJQUMvQ1UsR0FBRyxFQUFFLElBQUFDLFFBQUksRUFBQyxDQUFDO0lBQ1hDLEtBQUssRUFBRWxCLElBQUksQ0FBQ21CLFNBQVMsQ0FBQ1osS0FBSyxDQUFDYSxJQUFJO0VBQ2xDLENBQUMsQ0FBQyxDQUFDO0VBRUgsTUFBTVIsUUFBUSxDQUFDUyxPQUFPLENBQUMsQ0FBQztFQUN4QixNQUFNVCxRQUFRLENBQUNVLElBQUksQ0FBQztJQUNsQkMsS0FBSyxFQUFFaEIsS0FBSyxDQUFDZ0IsS0FBSztJQUNsQlY7RUFDRixDQUFDLENBQUM7RUFFRixNQUFNRCxRQUFRLENBQUNZLFVBQVUsQ0FBQyxDQUFDO0FBQzdCO0FBRUFyQixJQUFJLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["_kafkajs","require","_promises","_uuid","readEvent","fileName","file","readFile","JSON","parse","toString","main","process","argv","count","event","kafka","Kafka","clientId","brokers","producer","messages","Array","from","key","uuid","value","stringify","data","connect","send","topic","disconnect"],"sourceRoot":"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/app/src/","sources":["producer.js"],"sourcesContent":["import { Kafka } from \"kafkajs\";\nimport { readFile } from \"fs/promises\";\nimport { v4 as uuid } from \"uuid\";\n\nasync function readEvent(fileName) {\n  const file = await readFile(fileName);\n  return JSON.parse(file.toString());\n}\n\nasync function main() {\n  //const topic = process.argv[2];\n  const fileName = process.argv[2];\n  const count = process.argv[3] || 1;\n\n  // const event = await readEvent(`events/${fileName}.json`);\n  const event = await readEvent(`../events/${fileName}.json`);\n\n  const kafka = new Kafka({\n    clientId: \"kafka-producer\",\n    brokers: [\"localhost:9092\"],\n  });\n\n  const producer = kafka.producer();\n\n  const messages = Array.from(Array(count), () => ({\n    key: uuid(),\n    value: JSON.stringify(event.data),\n  }));\n\n  await producer.connect();\n  await producer.send({\n    topic: event.topic,\n    messages,\n  });\n\n  await producer.disconnect();\n}\n\nmain();\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAEA,eAAeG,SAASA,CAACC,QAAQ,EAAE;EACjC,MAAMC,IAAI,GAAG,MAAM,IAAAC,kBAAQ,EAACF,QAAQ,CAAC;EACrC,OAAOG,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,QAAQ,CAAC,CAAC,CAAC;AACpC;AAEA,eAAeC,IAAIA,CAAA,EAAG;EACpB;EACA,MAAMN,QAAQ,GAAGO,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EAChC,MAAMC,KAAK,GAAGF,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;;EAElC;EACA,MAAME,KAAK,GAAG,MAAMX,SAAS,CAAE,aAAYC,QAAS,OAAM,CAAC;EAE3D,MAAMW,KAAK,GAAG,IAAIC,cAAK,CAAC;IACtBC,QAAQ,EAAE,gBAAgB;IAC1BC,OAAO,EAAE,CAAC,gBAAgB;EAC5B,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGJ,KAAK,CAACI,QAAQ,CAAC,CAAC;EAEjC,MAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACD,KAAK,CAACR,KAAK,CAAC,EAAE,OAAO;IAC/CU,GAAG,EAAE,IAAAC,QAAI,EAAC,CAAC;IACXC,KAAK,EAAElB,IAAI,CAACmB,SAAS,CAACZ,KAAK,CAACa,IAAI;EAClC,CAAC,CAAC,CAAC;EAEH,MAAMR,QAAQ,CAACS,OAAO,CAAC,CAAC;EACxB,MAAMT,QAAQ,CAACU,IAAI,CAAC;IAClBC,KAAK,EAAEhB,KAAK,CAACgB,KAAK;IAClBV;EACF,CAAC,CAAC;EAEF,MAAMD,QAAQ,CAACY,UAAU,CAAC,CAAC;AAC7B;AAEArB,IAAI,CAAC,CAAC"}},"mtime":1726074895953},"{\"assumptions\":{},\"sourceRoot\":\"/app/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/app\",\"filename\":\"/app/src/consumer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/app\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.9:development":{"value":{"code":"\"use strict\";\n\nvar _kafkajs = require(\"kafkajs\");\nasync function main() {\n  const kafka = new _kafkajs.Kafka({\n    clientId: \"kafka-consumer\",\n    brokers: [\"host.docker.internal:29092\"]\n  });\n  const consumer = kafka.consumer({\n    groupId: \"my-group\"\n  });\n  await consumer.connect();\n  await consumer.subscribe({\n    topic: \"pe.io.vads.cashback.redemption-requested.v1\",\n    fromBeginning: true\n  });\n  await consumer.run({\n    eachMessage: async ({\n      topic,\n      partition,\n      message\n    }) => {\n      console.log({\n        topic,\n        partition,\n        offset: message.offset,\n        value: message.value.toString()\n      });\n    }\n  });\n}\nmain().catch(error => {\n  console.error(\"Error:\", error);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfa2Fma2FqcyIsInJlcXVpcmUiLCJtYWluIiwia2Fma2EiLCJLYWZrYSIsImNsaWVudElkIiwiYnJva2VycyIsImNvbnN1bWVyIiwiZ3JvdXBJZCIsImNvbm5lY3QiLCJzdWJzY3JpYmUiLCJ0b3BpYyIsImZyb21CZWdpbm5pbmciLCJydW4iLCJlYWNoTWVzc2FnZSIsInBhcnRpdGlvbiIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwib2Zmc2V0IiwidmFsdWUiLCJ0b1N0cmluZyIsImNhdGNoIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9hcHAvc3JjLyIsInNvdXJjZXMiOlsiY29uc3VtZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgS2Fma2EgfSBmcm9tIFwia2Fma2Fqc1wiO1xuXG5hc3luYyBmdW5jdGlvbiBtYWluKCkge1xuICBjb25zdCBrYWZrYSA9IG5ldyBLYWZrYSh7XG4gICAgY2xpZW50SWQ6IFwia2Fma2EtY29uc3VtZXJcIixcbiAgICBicm9rZXJzOiBbXCJob3N0LmRvY2tlci5pbnRlcm5hbDoyOTA5MlwiXSxcbiAgfSk7XG5cbiAgY29uc3QgY29uc3VtZXIgPSBrYWZrYS5jb25zdW1lcih7IGdyb3VwSWQ6IFwibXktZ3JvdXBcIiB9KTtcblxuICBhd2FpdCBjb25zdW1lci5jb25uZWN0KCk7XG4gIGF3YWl0IGNvbnN1bWVyLnN1YnNjcmliZSh7IHRvcGljOiBcInBlLmlvLnZhZHMuY2FzaGJhY2sucmVkZW1wdGlvbi1yZXF1ZXN0ZWQudjFcIiwgZnJvbUJlZ2lubmluZzogdHJ1ZSB9KTtcblxuICBhd2FpdCBjb25zdW1lci5ydW4oe1xuICAgIGVhY2hNZXNzYWdlOiBhc3luYyAoeyB0b3BpYywgcGFydGl0aW9uLCBtZXNzYWdlIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHtcbiAgICAgICAgdG9waWMsXG4gICAgICAgIHBhcnRpdGlvbixcbiAgICAgICAgb2Zmc2V0OiBtZXNzYWdlLm9mZnNldCxcbiAgICAgICAgdmFsdWU6IG1lc3NhZ2UudmFsdWUudG9TdHJpbmcoKSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xufVxuXG5tYWluKCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUVBLGVBQWVDLElBQUlBLENBQUEsRUFBRztFQUNwQixNQUFNQyxLQUFLLEdBQUcsSUFBSUMsY0FBSyxDQUFDO0lBQ3RCQyxRQUFRLEVBQUUsZ0JBQWdCO0lBQzFCQyxPQUFPLEVBQUUsQ0FBQyw0QkFBNEI7RUFDeEMsQ0FBQyxDQUFDO0VBRUYsTUFBTUMsUUFBUSxHQUFHSixLQUFLLENBQUNJLFFBQVEsQ0FBQztJQUFFQyxPQUFPLEVBQUU7RUFBVyxDQUFDLENBQUM7RUFFeEQsTUFBTUQsUUFBUSxDQUFDRSxPQUFPLENBQUMsQ0FBQztFQUN4QixNQUFNRixRQUFRLENBQUNHLFNBQVMsQ0FBQztJQUFFQyxLQUFLLEVBQUUsNkNBQTZDO0lBQUVDLGFBQWEsRUFBRTtFQUFLLENBQUMsQ0FBQztFQUV2RyxNQUFNTCxRQUFRLENBQUNNLEdBQUcsQ0FBQztJQUNqQkMsV0FBVyxFQUFFLE1BQUFBLENBQU87TUFBRUgsS0FBSztNQUFFSSxTQUFTO01BQUVDO0lBQVEsQ0FBQyxLQUFLO01BQ3BEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUNWUCxLQUFLO1FBQ0xJLFNBQVM7UUFDVEksTUFBTSxFQUFFSCxPQUFPLENBQUNHLE1BQU07UUFDdEJDLEtBQUssRUFBRUosT0FBTyxDQUFDSSxLQUFLLENBQUNDLFFBQVEsQ0FBQztNQUNoQyxDQUFDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQztBQUNKO0FBRUFuQixJQUFJLENBQUMsQ0FBQyxDQUFDb0IsS0FBSyxDQUFFQyxLQUFLLElBQUs7RUFDdEJOLE9BQU8sQ0FBQ00sS0FBSyxDQUFDLFFBQVEsRUFBRUEsS0FBSyxDQUFDO0FBQ2hDLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["_kafkajs","require","main","kafka","Kafka","clientId","brokers","consumer","groupId","connect","subscribe","topic","fromBeginning","run","eachMessage","partition","message","console","log","offset","value","toString","catch","error"],"sourceRoot":"/app/src/","sources":["consumer.js"],"sourcesContent":["import { Kafka } from \"kafkajs\";\n\nasync function main() {\n  const kafka = new Kafka({\n    clientId: \"kafka-consumer\",\n    brokers: [\"host.docker.internal:29092\"],\n  });\n\n  const consumer = kafka.consumer({ groupId: \"my-group\" });\n\n  await consumer.connect();\n  await consumer.subscribe({ topic: \"pe.io.vads.cashback.redemption-requested.v1\", fromBeginning: true });\n\n  await consumer.run({\n    eachMessage: async ({ topic, partition, message }) => {\n      console.log({\n        topic,\n        partition,\n        offset: message.offset,\n        value: message.value.toString(),\n      });\n    },\n  });\n}\n\nmain().catch((error) => {\n  console.error(\"Error:\", error);\n});"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAEA,eAAeC,IAAIA,CAAA,EAAG;EACpB,MAAMC,KAAK,GAAG,IAAIC,cAAK,CAAC;IACtBC,QAAQ,EAAE,gBAAgB;IAC1BC,OAAO,EAAE,CAAC,4BAA4B;EACxC,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGJ,KAAK,CAACI,QAAQ,CAAC;IAAEC,OAAO,EAAE;EAAW,CAAC,CAAC;EAExD,MAAMD,QAAQ,CAACE,OAAO,CAAC,CAAC;EACxB,MAAMF,QAAQ,CAACG,SAAS,CAAC;IAAEC,KAAK,EAAE,6CAA6C;IAAEC,aAAa,EAAE;EAAK,CAAC,CAAC;EAEvG,MAAML,QAAQ,CAACM,GAAG,CAAC;IACjBC,WAAW,EAAE,MAAAA,CAAO;MAAEH,KAAK;MAAEI,SAAS;MAAEC;IAAQ,CAAC,KAAK;MACpDC,OAAO,CAACC,GAAG,CAAC;QACVP,KAAK;QACLI,SAAS;QACTI,MAAM,EAAEH,OAAO,CAACG,MAAM;QACtBC,KAAK,EAAEJ,OAAO,CAACI,KAAK,CAACC,QAAQ,CAAC;MAChC,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACJ;AAEAnB,IAAI,CAAC,CAAC,CAACoB,KAAK,CAAEC,KAAK,IAAK;EACtBN,OAAO,CAACM,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;AAChC,CAAC,CAAC"}},"mtime":1725922166891}}