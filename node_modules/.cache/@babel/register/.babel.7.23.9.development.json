{"{\"assumptions\":{},\"sourceRoot\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter\",\"filename\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.9:development":{"value":{"code":"\"use strict\";\n\nvar _kafkajs = require(\"kafkajs\");\nvar _promises = require(\"fs/promises\");\nvar _uuid = require(\"uuid\");\nasync function readEvent(fileName) {\n  const file = await (0, _promises.readFile)(fileName);\n  return JSON.parse(file.toString());\n}\nasync function main() {\n  //const topic = process.argv[2];\n  const fileName = process.argv[2];\n  const count = process.argv[3] || 1;\n\n  // const event = await readEvent(`events/${fileName}.json`);\n  const event = await readEvent(`events/${fileName}.json`);\n  const kafka = new _kafkajs.Kafka({\n    clientId: \"kafka-producer\",\n    brokers: [\"localhost:9092\"]\n  });\n  const producer = kafka.producer();\n  const messages = Array.from(Array(count), () => ({\n    key: (0, _uuid.v4)(),\n    value: JSON.stringify(event.data)\n  }));\n  await producer.connect();\n  await producer.send({\n    topic: event.topic,\n    messages\n  });\n  await producer.disconnect();\n}\nmain();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfa2Fma2FqcyIsInJlcXVpcmUiLCJfcHJvbWlzZXMiLCJfdXVpZCIsInJlYWRFdmVudCIsImZpbGVOYW1lIiwiZmlsZSIsInJlYWRGaWxlIiwiSlNPTiIsInBhcnNlIiwidG9TdHJpbmciLCJtYWluIiwicHJvY2VzcyIsImFyZ3YiLCJjb3VudCIsImV2ZW50Iiwia2Fma2EiLCJLYWZrYSIsImNsaWVudElkIiwiYnJva2VycyIsInByb2R1Y2VyIiwibWVzc2FnZXMiLCJBcnJheSIsImZyb20iLCJrZXkiLCJ1dWlkIiwidmFsdWUiLCJzdHJpbmdpZnkiLCJkYXRhIiwiY29ubmVjdCIsInNlbmQiLCJ0b3BpYyIsImRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXlvcGl6YW5pdmFuamhvbmF0YW4vRG9jdW1lbnRzL0JDUC9HaXRIdWIva2Fma2EtcHJvZHVjdGVyL3NyYy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEthZmthIH0gZnJvbSBcImthZmthanNcIjtcbmltcG9ydCB7IHJlYWRGaWxlIH0gZnJvbSBcImZzL3Byb21pc2VzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSBcInV1aWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gcmVhZEV2ZW50KGZpbGVOYW1lKSB7XG4gIGNvbnN0IGZpbGUgPSBhd2FpdCByZWFkRmlsZShmaWxlTmFtZSk7XG4gIHJldHVybiBKU09OLnBhcnNlKGZpbGUudG9TdHJpbmcoKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG1haW4oKSB7XG4gIC8vY29uc3QgdG9waWMgPSBwcm9jZXNzLmFyZ3ZbMl07XG4gIGNvbnN0IGZpbGVOYW1lID0gcHJvY2Vzcy5hcmd2WzJdO1xuICBjb25zdCBjb3VudCA9IHByb2Nlc3MuYXJndlszXSB8fCAxO1xuXG4gIC8vIGNvbnN0IGV2ZW50ID0gYXdhaXQgcmVhZEV2ZW50KGBldmVudHMvJHtmaWxlTmFtZX0uanNvbmApO1xuICBjb25zdCBldmVudCA9IGF3YWl0IHJlYWRFdmVudChgZXZlbnRzLyR7ZmlsZU5hbWV9Lmpzb25gKTtcblxuICBjb25zdCBrYWZrYSA9IG5ldyBLYWZrYSh7XG4gICAgY2xpZW50SWQ6IFwia2Fma2EtcHJvZHVjZXJcIixcbiAgICBicm9rZXJzOiBbXCJsb2NhbGhvc3Q6OTA5MlwiXSxcbiAgfSk7XG5cbiAgY29uc3QgcHJvZHVjZXIgPSBrYWZrYS5wcm9kdWNlcigpO1xuXG4gIGNvbnN0IG1lc3NhZ2VzID0gQXJyYXkuZnJvbShBcnJheShjb3VudCksICgpID0+ICh7XG4gICAga2V5OiB1dWlkKCksXG4gICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KGV2ZW50LmRhdGEpLFxuICB9KSk7XG5cbiAgYXdhaXQgcHJvZHVjZXIuY29ubmVjdCgpO1xuICBhd2FpdCBwcm9kdWNlci5zZW5kKHtcbiAgICB0b3BpYzogZXZlbnQudG9waWMsXG4gICAgbWVzc2FnZXMsXG4gIH0pO1xuXG4gIGF3YWl0IHByb2R1Y2VyLmRpc2Nvbm5lY3QoKTtcbn1cblxubWFpbigpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUYsT0FBQTtBQUVBLGVBQWVHLFNBQVNBLENBQUNDLFFBQVEsRUFBRTtFQUNqQyxNQUFNQyxJQUFJLEdBQUcsTUFBTSxJQUFBQyxrQkFBUSxFQUFDRixRQUFRLENBQUM7RUFDckMsT0FBT0csSUFBSSxDQUFDQyxLQUFLLENBQUNILElBQUksQ0FBQ0ksUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNwQztBQUVBLGVBQWVDLElBQUlBLENBQUEsRUFBRztFQUNwQjtFQUNBLE1BQU1OLFFBQVEsR0FBR08sT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ2hDLE1BQU1DLEtBQUssR0FBR0YsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzs7RUFFbEM7RUFDQSxNQUFNRSxLQUFLLEdBQUcsTUFBTVgsU0FBUyxDQUFFLFVBQVNDLFFBQVMsT0FBTSxDQUFDO0VBRXhELE1BQU1XLEtBQUssR0FBRyxJQUFJQyxjQUFLLENBQUM7SUFDdEJDLFFBQVEsRUFBRSxnQkFBZ0I7SUFDMUJDLE9BQU8sRUFBRSxDQUFDLGdCQUFnQjtFQUM1QixDQUFDLENBQUM7RUFFRixNQUFNQyxRQUFRLEdBQUdKLEtBQUssQ0FBQ0ksUUFBUSxDQUFDLENBQUM7RUFFakMsTUFBTUMsUUFBUSxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQ0QsS0FBSyxDQUFDUixLQUFLLENBQUMsRUFBRSxPQUFPO0lBQy9DVSxHQUFHLEVBQUUsSUFBQUMsUUFBSSxFQUFDLENBQUM7SUFDWEMsS0FBSyxFQUFFbEIsSUFBSSxDQUFDbUIsU0FBUyxDQUFDWixLQUFLLENBQUNhLElBQUk7RUFDbEMsQ0FBQyxDQUFDLENBQUM7RUFFSCxNQUFNUixRQUFRLENBQUNTLE9BQU8sQ0FBQyxDQUFDO0VBQ3hCLE1BQU1ULFFBQVEsQ0FBQ1UsSUFBSSxDQUFDO0lBQ2xCQyxLQUFLLEVBQUVoQixLQUFLLENBQUNnQixLQUFLO0lBQ2xCVjtFQUNGLENBQUMsQ0FBQztFQUVGLE1BQU1ELFFBQVEsQ0FBQ1ksVUFBVSxDQUFDLENBQUM7QUFDN0I7QUFFQXJCLElBQUksQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["_kafkajs","require","_promises","_uuid","readEvent","fileName","file","readFile","JSON","parse","toString","main","process","argv","count","event","kafka","Kafka","clientId","brokers","producer","messages","Array","from","key","uuid","value","stringify","data","connect","send","topic","disconnect"],"sourceRoot":"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/","sources":["index.js"],"sourcesContent":["import { Kafka } from \"kafkajs\";\nimport { readFile } from \"fs/promises\";\nimport { v4 as uuid } from \"uuid\";\n\nasync function readEvent(fileName) {\n  const file = await readFile(fileName);\n  return JSON.parse(file.toString());\n}\n\nasync function main() {\n  //const topic = process.argv[2];\n  const fileName = process.argv[2];\n  const count = process.argv[3] || 1;\n\n  // const event = await readEvent(`events/${fileName}.json`);\n  const event = await readEvent(`events/${fileName}.json`);\n\n  const kafka = new Kafka({\n    clientId: \"kafka-producer\",\n    brokers: [\"localhost:9092\"],\n  });\n\n  const producer = kafka.producer();\n\n  const messages = Array.from(Array(count), () => ({\n    key: uuid(),\n    value: JSON.stringify(event.data),\n  }));\n\n  await producer.connect();\n  await producer.send({\n    topic: event.topic,\n    messages,\n  });\n\n  await producer.disconnect();\n}\n\nmain();\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAEA,eAAeG,SAASA,CAACC,QAAQ,EAAE;EACjC,MAAMC,IAAI,GAAG,MAAM,IAAAC,kBAAQ,EAACF,QAAQ,CAAC;EACrC,OAAOG,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,QAAQ,CAAC,CAAC,CAAC;AACpC;AAEA,eAAeC,IAAIA,CAAA,EAAG;EACpB;EACA,MAAMN,QAAQ,GAAGO,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EAChC,MAAMC,KAAK,GAAGF,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;;EAElC;EACA,MAAME,KAAK,GAAG,MAAMX,SAAS,CAAE,UAASC,QAAS,OAAM,CAAC;EAExD,MAAMW,KAAK,GAAG,IAAIC,cAAK,CAAC;IACtBC,QAAQ,EAAE,gBAAgB;IAC1BC,OAAO,EAAE,CAAC,gBAAgB;EAC5B,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGJ,KAAK,CAACI,QAAQ,CAAC,CAAC;EAEjC,MAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACD,KAAK,CAACR,KAAK,CAAC,EAAE,OAAO;IAC/CU,GAAG,EAAE,IAAAC,QAAI,EAAC,CAAC;IACXC,KAAK,EAAElB,IAAI,CAACmB,SAAS,CAACZ,KAAK,CAACa,IAAI;EAClC,CAAC,CAAC,CAAC;EAEH,MAAMR,QAAQ,CAACS,OAAO,CAAC,CAAC;EACxB,MAAMT,QAAQ,CAACU,IAAI,CAAC;IAClBC,KAAK,EAAEhB,KAAK,CAACgB,KAAK;IAClBV;EACF,CAAC,CAAC;EAEF,MAAMD,QAAQ,CAACY,UAAU,CAAC,CAAC;AAC7B;AAEArB,IAAI,CAAC,CAAC"}},"mtime":1707770512333},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter\",\"filename\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/producer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.9:development":{"value":{"code":"\"use strict\";\n\nvar _kafkajs = require(\"kafkajs\");\nvar _promises = require(\"fs/promises\");\nvar _uuid = require(\"uuid\");\nasync function readEvent(fileName) {\n  const file = await (0, _promises.readFile)(fileName);\n  return JSON.parse(file.toString());\n}\nasync function main() {\n  //const topic = process.argv[2];\n  const fileName = process.argv[2];\n  const count = process.argv[3] || 1;\n\n  // const event = await readEvent(`events/${fileName}.json`);\n  const event = await readEvent(`events/${fileName}.json`);\n  const kafka = new _kafkajs.Kafka({\n    clientId: \"kafka-producer\",\n    brokers: [\"localhost:9092\"]\n  });\n  const producer = kafka.producer();\n  const messages = Array.from(Array(count), () => ({\n    key: (0, _uuid.v4)(),\n    value: JSON.stringify(event.data)\n  }));\n  await producer.connect();\n  await producer.send({\n    topic: event.topic,\n    messages\n  });\n  await producer.disconnect();\n}\nmain();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfa2Fma2FqcyIsInJlcXVpcmUiLCJfcHJvbWlzZXMiLCJfdXVpZCIsInJlYWRFdmVudCIsImZpbGVOYW1lIiwiZmlsZSIsInJlYWRGaWxlIiwiSlNPTiIsInBhcnNlIiwidG9TdHJpbmciLCJtYWluIiwicHJvY2VzcyIsImFyZ3YiLCJjb3VudCIsImV2ZW50Iiwia2Fma2EiLCJLYWZrYSIsImNsaWVudElkIiwiYnJva2VycyIsInByb2R1Y2VyIiwibWVzc2FnZXMiLCJBcnJheSIsImZyb20iLCJrZXkiLCJ1dWlkIiwidmFsdWUiLCJzdHJpbmdpZnkiLCJkYXRhIiwiY29ubmVjdCIsInNlbmQiLCJ0b3BpYyIsImRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXlvcGl6YW5pdmFuamhvbmF0YW4vRG9jdW1lbnRzL0JDUC9HaXRIdWIva2Fma2EtcHJvZHVjdGVyL3NyYy8iLCJzb3VyY2VzIjpbInByb2R1Y2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEthZmthIH0gZnJvbSBcImthZmthanNcIjtcbmltcG9ydCB7IHJlYWRGaWxlIH0gZnJvbSBcImZzL3Byb21pc2VzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSBcInV1aWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gcmVhZEV2ZW50KGZpbGVOYW1lKSB7XG4gIGNvbnN0IGZpbGUgPSBhd2FpdCByZWFkRmlsZShmaWxlTmFtZSk7XG4gIHJldHVybiBKU09OLnBhcnNlKGZpbGUudG9TdHJpbmcoKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG1haW4oKSB7XG4gIC8vY29uc3QgdG9waWMgPSBwcm9jZXNzLmFyZ3ZbMl07XG4gIGNvbnN0IGZpbGVOYW1lID0gcHJvY2Vzcy5hcmd2WzJdO1xuICBjb25zdCBjb3VudCA9IHByb2Nlc3MuYXJndlszXSB8fCAxO1xuXG4gIC8vIGNvbnN0IGV2ZW50ID0gYXdhaXQgcmVhZEV2ZW50KGBldmVudHMvJHtmaWxlTmFtZX0uanNvbmApO1xuICBjb25zdCBldmVudCA9IGF3YWl0IHJlYWRFdmVudChgZXZlbnRzLyR7ZmlsZU5hbWV9Lmpzb25gKTtcblxuICBjb25zdCBrYWZrYSA9IG5ldyBLYWZrYSh7XG4gICAgY2xpZW50SWQ6IFwia2Fma2EtcHJvZHVjZXJcIixcbiAgICBicm9rZXJzOiBbXCJsb2NhbGhvc3Q6OTA5MlwiXSxcbiAgfSk7XG5cbiAgY29uc3QgcHJvZHVjZXIgPSBrYWZrYS5wcm9kdWNlcigpO1xuXG4gIGNvbnN0IG1lc3NhZ2VzID0gQXJyYXkuZnJvbShBcnJheShjb3VudCksICgpID0+ICh7XG4gICAga2V5OiB1dWlkKCksXG4gICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KGV2ZW50LmRhdGEpLFxuICB9KSk7XG5cbiAgYXdhaXQgcHJvZHVjZXIuY29ubmVjdCgpO1xuICBhd2FpdCBwcm9kdWNlci5zZW5kKHtcbiAgICB0b3BpYzogZXZlbnQudG9waWMsXG4gICAgbWVzc2FnZXMsXG4gIH0pO1xuXG4gIGF3YWl0IHByb2R1Y2VyLmRpc2Nvbm5lY3QoKTtcbn1cblxubWFpbigpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUYsT0FBQTtBQUVBLGVBQWVHLFNBQVNBLENBQUNDLFFBQVEsRUFBRTtFQUNqQyxNQUFNQyxJQUFJLEdBQUcsTUFBTSxJQUFBQyxrQkFBUSxFQUFDRixRQUFRLENBQUM7RUFDckMsT0FBT0csSUFBSSxDQUFDQyxLQUFLLENBQUNILElBQUksQ0FBQ0ksUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNwQztBQUVBLGVBQWVDLElBQUlBLENBQUEsRUFBRztFQUNwQjtFQUNBLE1BQU1OLFFBQVEsR0FBR08sT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ2hDLE1BQU1DLEtBQUssR0FBR0YsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzs7RUFFbEM7RUFDQSxNQUFNRSxLQUFLLEdBQUcsTUFBTVgsU0FBUyxDQUFFLFVBQVNDLFFBQVMsT0FBTSxDQUFDO0VBRXhELE1BQU1XLEtBQUssR0FBRyxJQUFJQyxjQUFLLENBQUM7SUFDdEJDLFFBQVEsRUFBRSxnQkFBZ0I7SUFDMUJDLE9BQU8sRUFBRSxDQUFDLGdCQUFnQjtFQUM1QixDQUFDLENBQUM7RUFFRixNQUFNQyxRQUFRLEdBQUdKLEtBQUssQ0FBQ0ksUUFBUSxDQUFDLENBQUM7RUFFakMsTUFBTUMsUUFBUSxHQUFHQyxLQUFLLENBQUNDLElBQUksQ0FBQ0QsS0FBSyxDQUFDUixLQUFLLENBQUMsRUFBRSxPQUFPO0lBQy9DVSxHQUFHLEVBQUUsSUFBQUMsUUFBSSxFQUFDLENBQUM7SUFDWEMsS0FBSyxFQUFFbEIsSUFBSSxDQUFDbUIsU0FBUyxDQUFDWixLQUFLLENBQUNhLElBQUk7RUFDbEMsQ0FBQyxDQUFDLENBQUM7RUFFSCxNQUFNUixRQUFRLENBQUNTLE9BQU8sQ0FBQyxDQUFDO0VBQ3hCLE1BQU1ULFFBQVEsQ0FBQ1UsSUFBSSxDQUFDO0lBQ2xCQyxLQUFLLEVBQUVoQixLQUFLLENBQUNnQixLQUFLO0lBQ2xCVjtFQUNGLENBQUMsQ0FBQztFQUVGLE1BQU1ELFFBQVEsQ0FBQ1ksVUFBVSxDQUFDLENBQUM7QUFDN0I7QUFFQXJCLElBQUksQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["_kafkajs","require","_promises","_uuid","readEvent","fileName","file","readFile","JSON","parse","toString","main","process","argv","count","event","kafka","Kafka","clientId","brokers","producer","messages","Array","from","key","uuid","value","stringify","data","connect","send","topic","disconnect"],"sourceRoot":"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/","sources":["producer.js"],"sourcesContent":["import { Kafka } from \"kafkajs\";\nimport { readFile } from \"fs/promises\";\nimport { v4 as uuid } from \"uuid\";\n\nasync function readEvent(fileName) {\n  const file = await readFile(fileName);\n  return JSON.parse(file.toString());\n}\n\nasync function main() {\n  //const topic = process.argv[2];\n  const fileName = process.argv[2];\n  const count = process.argv[3] || 1;\n\n  // const event = await readEvent(`events/${fileName}.json`);\n  const event = await readEvent(`events/${fileName}.json`);\n\n  const kafka = new Kafka({\n    clientId: \"kafka-producer\",\n    brokers: [\"localhost:9092\"],\n  });\n\n  const producer = kafka.producer();\n\n  const messages = Array.from(Array(count), () => ({\n    key: uuid(),\n    value: JSON.stringify(event.data),\n  }));\n\n  await producer.connect();\n  await producer.send({\n    topic: event.topic,\n    messages,\n  });\n\n  await producer.disconnect();\n}\n\nmain();\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAEA,eAAeG,SAASA,CAACC,QAAQ,EAAE;EACjC,MAAMC,IAAI,GAAG,MAAM,IAAAC,kBAAQ,EAACF,QAAQ,CAAC;EACrC,OAAOG,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,QAAQ,CAAC,CAAC,CAAC;AACpC;AAEA,eAAeC,IAAIA,CAAA,EAAG;EACpB;EACA,MAAMN,QAAQ,GAAGO,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EAChC,MAAMC,KAAK,GAAGF,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;;EAElC;EACA,MAAME,KAAK,GAAG,MAAMX,SAAS,CAAE,UAASC,QAAS,OAAM,CAAC;EAExD,MAAMW,KAAK,GAAG,IAAIC,cAAK,CAAC;IACtBC,QAAQ,EAAE,gBAAgB;IAC1BC,OAAO,EAAE,CAAC,gBAAgB;EAC5B,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGJ,KAAK,CAACI,QAAQ,CAAC,CAAC;EAEjC,MAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACD,KAAK,CAACR,KAAK,CAAC,EAAE,OAAO;IAC/CU,GAAG,EAAE,IAAAC,QAAI,EAAC,CAAC;IACXC,KAAK,EAAElB,IAAI,CAACmB,SAAS,CAACZ,KAAK,CAACa,IAAI;EAClC,CAAC,CAAC,CAAC;EAEH,MAAMR,QAAQ,CAACS,OAAO,CAAC,CAAC;EACxB,MAAMT,QAAQ,CAACU,IAAI,CAAC;IAClBC,KAAK,EAAEhB,KAAK,CAACgB,KAAK;IAClBV;EACF,CAAC,CAAC;EAEF,MAAMD,QAAQ,CAACY,UAAU,CAAC,CAAC;AAC7B;AAEArB,IAAI,CAAC,CAAC"}},"mtime":1725919870749},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter\",\"filename\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/consumer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.9:development":{"value":{"code":"\"use strict\";\n\nvar _kafkajs = require(\"kafkajs\");\nasync function main() {\n  const kafka = new _kafkajs.Kafka({\n    clientId: \"kafka-consumer\",\n    brokers: [\"localhost:9092\"]\n  });\n  const consumer = kafka.consumer({\n    groupId: \"my-group\"\n  });\n  await consumer.connect();\n  await consumer.subscribe({\n    topic: \"pe.io.vads.cashback.redemption-requested.v1\",\n    fromBeginning: true\n  });\n  await consumer.run({\n    eachMessage: async ({\n      topic,\n      partition,\n      message\n    }) => {\n      console.log({\n        topic,\n        partition,\n        offset: message.offset,\n        value: message.value.toString()\n      });\n    }\n  });\n}\nmain().catch(error => {\n  console.error(\"Error:\", error);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfa2Fma2FqcyIsInJlcXVpcmUiLCJtYWluIiwia2Fma2EiLCJLYWZrYSIsImNsaWVudElkIiwiYnJva2VycyIsImNvbnN1bWVyIiwiZ3JvdXBJZCIsImNvbm5lY3QiLCJzdWJzY3JpYmUiLCJ0b3BpYyIsImZyb21CZWdpbm5pbmciLCJydW4iLCJlYWNoTWVzc2FnZSIsInBhcnRpdGlvbiIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwib2Zmc2V0IiwidmFsdWUiLCJ0b1N0cmluZyIsImNhdGNoIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYXlvcGl6YW5pdmFuamhvbmF0YW4vRG9jdW1lbnRzL0JDUC9HaXRIdWIva2Fma2EtcHJvZHVjdGVyL3NyYy8iLCJzb3VyY2VzIjpbImNvbnN1bWVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEthZmthIH0gZnJvbSBcImthZmthanNcIjtcblxuYXN5bmMgZnVuY3Rpb24gbWFpbigpIHtcbiAgY29uc3Qga2Fma2EgPSBuZXcgS2Fma2Eoe1xuICAgIGNsaWVudElkOiBcImthZmthLWNvbnN1bWVyXCIsXG4gICAgYnJva2VyczogW1wibG9jYWxob3N0OjkwOTJcIl0sXG4gIH0pO1xuXG4gIGNvbnN0IGNvbnN1bWVyID0ga2Fma2EuY29uc3VtZXIoeyBncm91cElkOiBcIm15LWdyb3VwXCIgfSk7XG5cbiAgYXdhaXQgY29uc3VtZXIuY29ubmVjdCgpO1xuICBhd2FpdCBjb25zdW1lci5zdWJzY3JpYmUoeyB0b3BpYzogXCJwZS5pby52YWRzLmNhc2hiYWNrLnJlZGVtcHRpb24tcmVxdWVzdGVkLnYxXCIsIGZyb21CZWdpbm5pbmc6IHRydWUgfSk7XG5cbiAgYXdhaXQgY29uc3VtZXIucnVuKHtcbiAgICBlYWNoTWVzc2FnZTogYXN5bmMgKHsgdG9waWMsIHBhcnRpdGlvbiwgbWVzc2FnZSB9KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyh7XG4gICAgICAgIHRvcGljLFxuICAgICAgICBwYXJ0aXRpb24sXG4gICAgICAgIG9mZnNldDogbWVzc2FnZS5vZmZzZXQsXG4gICAgICAgIHZhbHVlOiBtZXNzYWdlLnZhbHVlLnRvU3RyaW5nKCksXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn1cblxubWFpbigpLmNhdGNoKChlcnJvcikgPT4ge1xuICBjb25zb2xlLmVycm9yKFwiRXJyb3I6XCIsIGVycm9yKTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFFQSxlQUFlQyxJQUFJQSxDQUFBLEVBQUc7RUFDcEIsTUFBTUMsS0FBSyxHQUFHLElBQUlDLGNBQUssQ0FBQztJQUN0QkMsUUFBUSxFQUFFLGdCQUFnQjtJQUMxQkMsT0FBTyxFQUFFLENBQUMsZ0JBQWdCO0VBQzVCLENBQUMsQ0FBQztFQUVGLE1BQU1DLFFBQVEsR0FBR0osS0FBSyxDQUFDSSxRQUFRLENBQUM7SUFBRUMsT0FBTyxFQUFFO0VBQVcsQ0FBQyxDQUFDO0VBRXhELE1BQU1ELFFBQVEsQ0FBQ0UsT0FBTyxDQUFDLENBQUM7RUFDeEIsTUFBTUYsUUFBUSxDQUFDRyxTQUFTLENBQUM7SUFBRUMsS0FBSyxFQUFFLDZDQUE2QztJQUFFQyxhQUFhLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFFdkcsTUFBTUwsUUFBUSxDQUFDTSxHQUFHLENBQUM7SUFDakJDLFdBQVcsRUFBRSxNQUFBQSxDQUFPO01BQUVILEtBQUs7TUFBRUksU0FBUztNQUFFQztJQUFRLENBQUMsS0FBSztNQUNwREMsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFDVlAsS0FBSztRQUNMSSxTQUFTO1FBQ1RJLE1BQU0sRUFBRUgsT0FBTyxDQUFDRyxNQUFNO1FBQ3RCQyxLQUFLLEVBQUVKLE9BQU8sQ0FBQ0ksS0FBSyxDQUFDQyxRQUFRLENBQUM7TUFDaEMsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDLENBQUM7QUFDSjtBQUVBbkIsSUFBSSxDQUFDLENBQUMsQ0FBQ29CLEtBQUssQ0FBRUMsS0FBSyxJQUFLO0VBQ3RCTixPQUFPLENBQUNNLEtBQUssQ0FBQyxRQUFRLEVBQUVBLEtBQUssQ0FBQztBQUNoQyxDQUFDLENBQUMifQ==","map":{"version":3,"names":["_kafkajs","require","main","kafka","Kafka","clientId","brokers","consumer","groupId","connect","subscribe","topic","fromBeginning","run","eachMessage","partition","message","console","log","offset","value","toString","catch","error"],"sourceRoot":"/Users/mayopizanivanjhonatan/Documents/BCP/GitHub/kafka-producter/src/","sources":["consumer.js"],"sourcesContent":["import { Kafka } from \"kafkajs\";\n\nasync function main() {\n  const kafka = new Kafka({\n    clientId: \"kafka-consumer\",\n    brokers: [\"localhost:9092\"],\n  });\n\n  const consumer = kafka.consumer({ groupId: \"my-group\" });\n\n  await consumer.connect();\n  await consumer.subscribe({ topic: \"pe.io.vads.cashback.redemption-requested.v1\", fromBeginning: true });\n\n  await consumer.run({\n    eachMessage: async ({ topic, partition, message }) => {\n      console.log({\n        topic,\n        partition,\n        offset: message.offset,\n        value: message.value.toString(),\n      });\n    },\n  });\n}\n\nmain().catch((error) => {\n  console.error(\"Error:\", error);\n});"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAEA,eAAeC,IAAIA,CAAA,EAAG;EACpB,MAAMC,KAAK,GAAG,IAAIC,cAAK,CAAC;IACtBC,QAAQ,EAAE,gBAAgB;IAC1BC,OAAO,EAAE,CAAC,gBAAgB;EAC5B,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGJ,KAAK,CAACI,QAAQ,CAAC;IAAEC,OAAO,EAAE;EAAW,CAAC,CAAC;EAExD,MAAMD,QAAQ,CAACE,OAAO,CAAC,CAAC;EACxB,MAAMF,QAAQ,CAACG,SAAS,CAAC;IAAEC,KAAK,EAAE,6CAA6C;IAAEC,aAAa,EAAE;EAAK,CAAC,CAAC;EAEvG,MAAML,QAAQ,CAACM,GAAG,CAAC;IACjBC,WAAW,EAAE,MAAAA,CAAO;MAAEH,KAAK;MAAEI,SAAS;MAAEC;IAAQ,CAAC,KAAK;MACpDC,OAAO,CAACC,GAAG,CAAC;QACVP,KAAK;QACLI,SAAS;QACTI,MAAM,EAAEH,OAAO,CAACG,MAAM;QACtBC,KAAK,EAAEJ,OAAO,CAACI,KAAK,CAACC,QAAQ,CAAC;MAChC,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACJ;AAEAnB,IAAI,CAAC,CAAC,CAACoB,KAAK,CAAEC,KAAK,IAAK;EACtBN,OAAO,CAACM,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;AAChC,CAAC,CAAC"}},"mtime":1725920262755}}